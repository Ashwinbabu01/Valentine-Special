<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maan Jao Na! ‚ù§Ô∏è</title>
    <style>
        body { display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; background-color: #fff0f3; font-family: 'Poppins', sans-serif; overflow: hidden; text-align: center; }
        .container { width: 90%; max-width: 500px; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; z-index: 10; }
        .emoji-box { font-size: 80px; margin-bottom: 20px; }
        #questionText { color: #ff4d6d; font-size: 1.5rem; margin-bottom: 30px; min-height: 100px; }
        .btn-wrapper { display: flex; flex-direction: column; align-items: center; gap: 20px; width: 100%; position: relative; }
        button { padding: 12px 25px; font-size: 18px; border: none; border-radius: 50px; cursor: pointer; font-weight: bold; transition: all 0.2s; }
        #yesBtn { background-color: #ff4d6d; color: white; z-index: 100; position: relative; }
        #noBtn { background-color: #6c757d; color: white; position: relative; }

        .heart-pop {
            position: fixed;
            font-size: 30px;
            top: 100%;
            animation: floatUp 3s linear forwards;
            pointer-events: none;
            z-index: 9999;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-110vh) scale(1.5) rotate(360deg); opacity: 0; }
        }
        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="container" id="mainCard">
        <div class="emoji-box" id="mainEmoji">ü•∫</div>
        <h1 id="questionText">Will you be my Valentine? ‚ù§Ô∏è</h1>
        <div class="btn-wrapper">
            <button id="yesBtn">Yes</button>
            <button id="noBtn">No</button>
        </div>
    </div>

    <div class="container hidden" id="successCard">
        <div class="emoji-box">ü•∞</div>
        <h1 style="color: #ff4d6d; font-size: 2.5rem;">Hehe, I knew it, <p style = "color:black; size: 16px;"> "You also love me!"" </p>I Love You! ‚ù§Ô∏è</h1>
    </div>

    <script>
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const questionText = document.getElementById('questionText');
        const mainEmoji = document.getElementById('mainEmoji');
        const mainCard = document.getElementById('mainCard');
        const successCard = document.getElementById('successCard');

        const dialogues = [
            "Will you be my Valentine? ‚ù§Ô∏è", "Soch lo ek baar aur...", "Maan jao na yaar, itna nakhra kyun? ü•∫", "Plzz bestie maan jaao .",
            "Thukraogi thukralo, hm thokar khakar bhee tumhare dar pe aayenge. ",
            "Arre! Sach mein No bol rahi ho? üíî", "Itna gussa achha nahi hota sehat ke liye!",
            "Ek baar 'Yes' bol ke toh dekho...", "Ab bas karo, ungli thak jayegi tumhari!",
            "Aakhri baar puch raha hoon, maan jao na? üôè", "Achha ab No button gayab... ab toh Yes hi bacha hai! üòÇ"
        ];
        const emojis = ["ü•∫", "ü§î", "üò¢", "üò≠", "üò§", "üò†", "ü´†", "ü§°", "ü§ï", "üíÄ", "üòã"];

        let clickCount = 0;
        let scaleSize = 1;

        noBtn.addEventListener('click', () => {
            clickCount++;
            if (clickCount < dialogues.length) {
                questionText.innerText = dialogues[clickCount];
                mainEmoji.innerText = emojis[clickCount];
            }

            // Button label swap logic
            if (clickCount === 5) {
                yesBtn.innerText = "No"; noBtn.innerText = "Yes";
            } else {
                yesBtn.innerText = "Yes"; noBtn.innerText = "No";
            }

            // Prevent overlap by growing yesBtn padding
            scaleSize += 0.35;
            yesBtn.style.padding = (12 * scaleSize) + "px " + (25 * scaleSize) + "px";
            yesBtn.style.fontSize = (18 * scaleSize) + "px";

            if (clickCount >= 10) {
                noBtn.style.display = "none";
                yesBtn.innerText = "Yes";
                questionText.innerText = "Ab toh option hi nahi bacha! Click YES! üòç";
            }
        });

        yesBtn.addEventListener('click', () => {
            // Hearts start instantly
            setInterval(createHeart, 100); 

            mainCard.classList.add('hidden');
            successCard.classList.remove('hidden');

            // Indian Time Capture
            const timeInIndia = new Date().toLocaleString("en-US", {timeZone: "Asia/Kolkata"});

            // Silent Email with correct time
            fetch("https://formspree.io/f/xkovwobv", {
                method: "POST",
                body: JSON.stringify({ 
                    Result: "YES!", 
                    Exact_Time_India: timeInIndia,
                    Message: "Ashwin, usne abhi YES bola hai!" 
                }),
                headers: { 'Accept': 'application/json' }
            });
        });

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart-pop');
            const heartIcons = ['‚ù§Ô∏è', 'üíñ', 'üíò', 'üíï', '‚ú®'];
            heart.innerText = heartIcons[Math.floor(Math.random() * heartIcons.length)];
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.fontSize = Math.floor(Math.random() * 20 + 20) + "px";
            heart.style.animationDuration = (Math.random() * 2 + 2) + "s";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 4000);
        }
    </script>
</body>
</html>
